<h1>Bourse</h1>
<div class="content">
  <div class="columned">
    <div>
      <table>
        <thead>
          <tr>
            <th></th>
            <th style="text-align: left">Nom</th>
            <th>Valeur</th>
            <th colspan="2">Possédées</th>
            <!-- <th>Achetées</th> -->
            <th>Valeur totale</th>
            <th>Bénéfice</th>
          </tr>
        </thead>
        <tbody>
          @for (cur of currents; track $index) {
            <tr>
              <td style="text-align: center"><img [src]="'./assets/images/structures/' + getActionIcon(cur.actionCode) + '.png'" class="action-icon" /></td>
              <td style="text-align: left; padding-left: 0">{{ cur.actionCode }}</td>
              <td><span [amount]="[cur.value]"></span></td>
              <td style="padding-right: 0">{{ floor(cur.quantity) }}</td>
              <td style="text-align: left; padding-left: 0">{{ decimal(cur.quantity) }}</td>
              <!-- <td><span [amount]="[cur.initial]"></span></td> -->
              <td><span [amount]="[cur.value * cur.quantity]"></span></td>
              <td><span [amount]="[cur.profit | percent:'1.2', { alwaysSign: true, sign: '%', color: true }]"></span></td>
            </tr>
          }
        </tbody>
        <tfoot>
          <tr>
            <td></td>
            <td>Total</td>
            <td colspan="2"><span [amount]="[sumInitial()]"></span></td>
            <td>→</td>
            <td><span [amount]="[sumValue()]"></span></td>
            <td><span [amount]="[((sumValue() / sumInitial()) - 1) | percent:'1.2', { alwaysSign: true, sign: '%', color: true }]"></span></td>
          </tr>
        </tfoot>
      </table>
    </div>
    <div>
      <h2>Les plus performantes</h2>
      <div class="columned">
        <div>
          <h3>Aujourd'hui</h3>
          <ul>
            @for (sto of bestPerfs.today; track $index) {
              <li>
                <i class="icon" [title]="sto.actionCode" [style.backgroundImage]="'url(./assets/images/structures/' + getActionIcon(sto.actionCode) + '.png)'"></i>
                <div class="account-sum">
                  <span [amount]="[sto.value]"></span>
                  <span [amount]="[sto.perf | percent:'1.2', { alwaysSign: true, sign: '%', color: true }]"></span>
                </div>
              </li>
            }
          </ul>
        </div>
        <div>
          <h3>Cette semaine</h3>
          <ul>
            @for (sto of bestPerfs.week; track $index) {
              <li>
                <i class="icon" [title]="sto.actionCode" [style.backgroundImage]="'url(./assets/images/structures/' + getActionIcon(sto.actionCode) + '.png)'"></i>
                <div class="account-sum">
                  <span [amount]="[sto.value]"></span>
                  <span [amount]="[sto.perf | percent:'1.2', { alwaysSign: true, sign: '%', color: true }]"></span>
                </div>
              </li>
            }
          </ul>
        </div>
        <div>
          <h3>Ce mois-ci</h3>
          <ul>
            @for (sto of bestPerfs.month; track $index) {
              <li>
                <i class="icon" [title]="sto.actionCode" [style.backgroundImage]="'url(./assets/images/structures/' + getActionIcon(sto.actionCode) + '.png)'"></i>
                <div class="account-sum">
                  <span [amount]="[sto.value]"></span>
                  <span [amount]="[sto.perf | percent:'1.2', { alwaysSign: true, sign: '%', color: true }]"></span>
                </div>
              </li>
            }
          </ul>
        </div>
      </div>
      <h2>Les moins performantes</h2>
      <div class="columned">
        <div>
          <h3>Aujourd'hui</h3>
          <ul>
            @for (sto of worstPerfs.today; track $index) {
              <li>
                <i class="icon" [title]="sto.actionCode" [style.backgroundImage]="'url(./assets/images/structures/' + getActionIcon(sto.actionCode) + '.png)'"></i>
                <div class="account-sum">
                  <span [amount]="[sto.value]"></span>
                  <span [amount]="[sto.perf | percent:'1.2', { alwaysSign: true, sign: '%', color: true }]"></span>
                </div>
              </li>
            }
          </ul>
        </div>
        <div>
          <h3>Cette semaine</h3>
          <ul>
            @for (sto of worstPerfs.week; track $index) {
              <li>
                <i class="icon" [title]="sto.actionCode" [style.backgroundImage]="'url(./assets/images/structures/' + getActionIcon(sto.actionCode) + '.png)'"></i>
                <div class="account-sum">
                  <span [amount]="[sto.value]"></span>
                  <span [amount]="[sto.perf | percent:'1.2', { alwaysSign: true, sign: '%', color: true }]"></span>
                </div>
              </li>
            }
          </ul>
        </div>
        <div>
          <h3>Ce mois-ci</h3>
          <ul>
            @for (sto of worstPerfs.month; track $index) {
              <li>
                <i class="icon" [title]="sto.actionCode" [style.backgroundImage]="'url(./assets/images/structures/' + getActionIcon(sto.actionCode) + '.png)'"></i>
                <div class="account-sum">
                  <span [amount]="[sto.value]"></span>
                  <span [amount]="[sto.perf | percent:'1.2', { alwaysSign: true, sign: '%', color: true }]"></span>
                </div>
              </li>
            }
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>